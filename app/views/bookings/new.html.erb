<h1>Passenger Registration</h1>

<%= render partial: "flights/card" , locals: {flight: @flight} %>

<h2>Passenger info</h2>
<%= form_with model: @booking do |booking_form| %>

  <%= hidden_field :booking, :flight_id %>

  <div class="row">
      <%= booking_form.fields_for :passengers do |passenger_form| %>
        <div class="col-md-6 mb-4">
          <h3>Passenger</h3>

          <div class="row mb-2">
            <%= passenger_form.label :name, 'Name', class: 'col-form-label col-sm-2' %>
            <div class="col-sm-10">
              <%= passenger_form.text_field :name, class: 'form-control', required: true %>
            </div>
          </div>

          <div class="row mb-2">
            <%= passenger_form.label :email, 'Email', class: 'col-form-label col-sm-2' %>
            <div class="col-sm-10">
              <%= passenger_form.email_field :email, class: 'form-control', required: true %>
            </div>
          </div>

        </div>
      <% end %>
  </div>

  <%= booking_form.submit 'Create Reservation', class: 'btn btn-primary' %>
<% end %>
